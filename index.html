<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Love Game Plus üíñ</title>
<style>
  :root{
    --pink1:#ffc1e3; --pink2:#ff87c5; --pink3:#ff5aa5;
    --glass: rgba(255,255,255,.12); --border: rgba(255,255,255,.35);
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; font-family: ui-rounded, "Prompt", system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
    background: radial-gradient(1200px 800px at 10% 10%, var(--pink1), transparent 60%),
                radial-gradient(1200px 800px at 90% 90%, var(--pink2), transparent 60%),
                linear-gradient(135deg, #ffd6ea, #ff8fcf 60%, #ff64b3);
    display:flex; align-items:center; justify-content:center; padding:16px;
    overflow:hidden;
  }
  .app{
    width:min(860px, 100%);
    background:var(--glass); backdrop-filter: blur(10px);
    border:1px solid var(--border); border-radius:28px;
    box-shadow: 0 10px 40px rgba(0,0,0,.15);
    padding:20px 18px;
    position:relative; overflow:hidden;
  }
  h1,h2,p{margin:0 0 10px}
  h1{color:#fff; font-size:28px; text-shadow:0 2px 8px rgba(0,0,0,.25)}
  h2{color:#fff; font-size:22px}
  .muted{color:rgba(255,255,255,.9)}
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
  .col{display:flex; flex-direction:column; gap:8px}
  .space{height:10px}
  .btn{
    background:#fff; color:#c2185b; border:none; padding:12px 18px; border-radius:16px;
    font-weight:700; cursor:pointer; box-shadow: 0 4px 10px rgba(0,0,0,.12);
    transition: transform .08s ease, background .2s ease;
  }
  .btn:hover{transform: translateY(-2px)}
  .btn.ghost{background:rgba(255,255,255,.75)}
  .badge{background:#fff; color:#c2185b; padding:6px 10px; border-radius:999px; font-weight:700}
  .panel{
    margin-top:14px; border:1px solid var(--border); border-radius:22px; background:rgba(255,255,255,.08);
    padding:16px; position:relative; overflow:hidden; min-height:380px;
  }
  .header{display:flex; justify-content:space-between; align-items:center; margin-bottom:8px}
  .heartsBg{position:absolute; inset:0; overflow:hidden; pointer-events:none}
  .float{position:absolute; bottom:-40px; font-size:26px; animation:rise linear forwards; opacity:.85}
  @keyframes rise{ from{transform:translateY(0) scale(1)} to{transform:translateY(-115%) scale(1.3); opacity:0} }
  .beat{font-size:42px; animation:beat 1.1s infinite}
  @keyframes beat{ 0%,100%{transform:scale(1)} 50%{transform:scale(1.2)} }
  .center{display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; height:100%}
  .choices{display:flex; gap:10px; flex-wrap:wrap; justify-content:center}
  .topbar{display:flex; gap:8px; align-items:center}
  .meter{height:10px; background:rgba(255,255,255,.3); border-radius:999px; overflow:hidden}
  .meter>i{display:block; height:100%; background:#fff}
  .hud{position:absolute; top:10px; left:10px; right:10px; display:flex; justify-content:space-between; color:#fff; font-weight:700}
  .item{position:absolute; font-size:28px; user-select:none; border:none; background:none; cursor:pointer; filter: drop-shadow(0 6px 8px rgba(0,0,0,.25))}
  .qbox{background:rgba(255,255,255,.1); border:1px solid var(--border); border-radius:16px; padding:12px; margin:8px 0}
  .qbox textarea{
    width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.5);
    outline:none; background:rgba(255,255,255,.9); font-size:15px;
  }
  .result{font-size:16px; color:#fff; white-space:pre-wrap; text-align:left; background:rgba(255,255,255,.1); padding:12px; border-radius:12px; border:1px solid var(--border)}
  .footer{display:flex; justify-content:space-between; align-items:center; color:#fff; margin-top:8px; font-size:14px}
</style>
</head>
<body>
  <div class="app" id="app">
    <div class="header">
      <div>
        <h1>Love Game Plus</h1>
        <div class="muted">‡πÄ‡∏Å‡∏° 5 ‡∏î‡πà‡∏≤‡∏ô ‚Ä¢ ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢ ‚Ä¢ ‡πÑ‡∏≠‡πÄ‡∏ó‡πá‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© üê∑üçã ‚Ä¢ ‡πÄ‡∏û‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</div>
      </div>
      <div class="topbar">
        <button class="btn ghost" id="musicBtn">üîà ‡πÄ‡∏û‡∏•‡∏á: ‡∏õ‡∏¥‡∏î</button>
        <span class="badge" id="scoreBadge">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</span>
      </div>
    </div>

    <div class="panel" id="panel">
      <div class="heartsBg" id="bg"></div>
      <div class="center" id="screen"></div>
      <div class="hud">
        <div>‡∏î‡πà‡∏≤‡∏ô: <span id="lvNow">1</span>/5</div>
        <div id="timer" style="display:none;">‚è±Ô∏è <span id="tval">0</span>s</div>
      </div>
    </div>

    <div class="footer">
      <div>‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏∞‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏•‡∏≠‡∏¢‡πÑ‡∏î‡πâ üíû</div>
      <div class="row">
        <button class="btn ghost" id="prevBtn">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
        <button class="btn" id="nextBtn">‡∏Ç‡πâ‡∏≤‡∏°‡∏î‡πà‡∏≤‡∏ô</button>
      </div>
    </div>
  </div>

  <audio id="bgm" loop preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/30/audio_4b36e23f0f.mp3?filename=cute-love-11276.mp3" type="audio/mpeg">
  </audio>
  <audio id="pop" preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_f5b5e5c8bb.mp3?filename=pop-110113.mp3" type="audio/mpeg">
  </audio>
  <audio id="win" preload="auto">
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_2d7b1d4978.mp3?filename=success-1-6297.mp3" type="audio/mpeg">
  </audio>

<script>
(()=>{

let level = 1;
let score = 0;
let timer = 0, timerId = null;
const screen = document.getElementById('screen');
const scoreBadge = document.getElementById('scoreBadge');
const lvNow = document.getElementById('lvNow');
const tbox = document.getElementById('timer');
const tval = document.getElementById('tval');
const bg = document.getElementById('bg');

const bgm = document.getElementById('bgm');
const sPop = document.getElementById('pop');
const sWin = document.getElementById('win');
let musicOn = false;

function setScore(v){ score = Math.max(0, v); scoreBadge.textContent = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score; }
function setLevel(v){ level = Math.max(1, Math.min(5, v)); lvNow.textContent = level; stopTimer(); render(); }
function spawnFloat(emoji){
  const n = document.createElement('div');
  n.className = 'float';
  n.textContent = emoji || (Math.random()>0.5?'üíñ':'üíû');
  n.style.left = (Math.random()*95)+'%';
  n.style.animationDuration = (4+Math.random()*3)+'s';
  bg.appendChild(n);
  setTimeout(()=> n.remove(), 7000);
}
function burst(n=12){ for(let i=0;i<n;i++) setTimeout(spawnFloat, i*80); }
function play(el){ el.currentTime=0; el.volume = .5; el.play().catch(()=>{}); }
function startTimer(sec, onEnd){
  timer = sec; tval.textContent = timer; tbox.style.display='block';
  stopTimer();
  timerId = setInterval(()=>{
    timer--; tval.textContent = timer;
    if(timer<=0){ stopTimer(); onEnd && onEnd(); }
  }, 1000);
}
function stopTimer(){ if(timerId){ clearInterval(timerId); timerId=null; } tbox.style.display='none'; }

document.getElementById('panel').addEventListener('pointerdown', ()=> spawnFloat());
document.getElementById('musicBtn').onclick = ()=>{
  musicOn = !musicOn;
  document.getElementById('musicBtn').textContent = musicOn ? 'üîä ‡πÄ‡∏û‡∏•‡∏á: ‡πÄ‡∏õ‡∏¥‡∏î' : 'üîà ‡πÄ‡∏û‡∏•‡∏á: ‡∏õ‡∏¥‡∏î';
  if(musicOn){ bgm.volume=.22; bgm.play().catch(()=>{}); } else { bgm.pause(); }
};
document.getElementById('prevBtn').onclick = ()=> setLevel(level-1);
document.getElementById('nextBtn').onclick = ()=> setLevel(level+1);

function view1(){
  screen.innerHTML = `
    <div class="center">
      <div class="beat">üíñ</div>
      <h2>‡∏£‡∏±‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤‡∏°‡∏±‡πâ‡∏¢ ?</h2>
      <div class="choices">
        <button class="btn">‡∏£‡∏±‡∏Å</button>
        <button class="btn">‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å</button>
        <button class="btn">‡∏£‡∏±‡∏Å‡∏°‡∏≤‡∏Å‡∏Å‡∏Å‡∏Å</button>
      </div>
      <div class="muted">‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏ï‡πà‡∏≠ ‚ñ∫</div>
    </div>`;
  [...screen.querySelectorAll('.btn')].forEach((b,i)=>{
    b.onclick=()=>{ play(sPop); burst(12); setScore(score + 1 + i); setLevel(2); };
  });
}

function view2(){
  screen.innerHTML = `
    <div class="center">
      <h2>‡∏à‡∏±‡∏ö‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô üíì</h2>
      <p class="muted">‡∏†‡∏≤‡∏¢‡πÉ‡∏ô <b>30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</b> ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ <b>10</b><br>üê∑ = +3, üçã = +2, üíó = +1</p>
      <div class="meter"><i id="prog" style="width:0%"></i></div>
    </div>`;
  let local = 0;
  const prog = document.getElementById('prog');
  let running = true;
  function spawn(){
    if(!running) return;
    const el = document.createElement('button');
    el.className = 'item';
    const r = Math.random();
    if(r < 0.12){ el.textContent = 'üê∑'; el.dataset.point='3'; }
    else if(r < 0.30){ el.textContent = 'üçã'; el.dataset.point='2'; }
    else { el.textContent = 'üíó'; el.dataset.point='1'; }
    const panel = document.getElementById('panel');
    el.style.left = (8 + Math.random()*84)+'%';
    el.style.top = '-8%';
    panel.appendChild(el);

    const speed = 0.9 + Math.random()*0.9;
    let y = -8;
    const id = setInterval(()=>{
      y += speed;
      el.style.top = y+'%';
      if(y>110){ clearInterval(id); el.remove(); }
    }, 40);

    el.onclick = ()=>{
      const bonus = Number(el.dataset.point||1);
      play(sPop);
      local += bonus; setScore(score + bonus);
      prog.style.width = Math.min(100, (local/10)*100)+'%';
      el.remove(); clearInterval(id);
      spawnFloat(el.textContent);
    };

    setTimeout(spawn, 400 + Math.random()*400);
  }

  spawn();
  startTimer(30, ()=>{
    running=false;
    if(local>=10){ play(sWin); alert('‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å! ‡∏ú‡πà‡∏≤‡∏ô‡∏î‡πà‡∏≤‡∏ô ‚ù§Ô∏è'); setLevel(3); }
    else { alert('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏õ‡πâ‡∏≤ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ô‡∏∞!'); setLevel(2); }
  });
}

function view3(){
  screen.innerHTML = `
    <div class="center">
      <h2>‡∏à‡∏±‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡∏à‡∏£‡∏¥‡∏á! üòÜ</h2>
      <div class="choices">
        <button class="btn" id="yes">‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!</button>
        <button class="btn ghost" id="no">‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å üôà</button>
      </div>
      <p class="muted">‡∏Ç‡∏¢‡∏±‡∏ö‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ô‡∏¥‡πâ‡∏ß‡πÑ‡∏•‡πà‡∏à‡∏±‡∏ö ‚Äú‡πÑ‡∏°‡πà‡∏£‡∏±‡∏Å‚Äù ‡∏î‡∏π‡∏™‡∏¥</p>
    </div>`;
  const no = document.getElementById('no');
  const yes = document.getElementById('yes');
  function teleport(){
    const p = document.getElementById('panel');
    const w = p.clientWidth, h = p.clientHeight;
    const x = 40 + Math.random()*(w-160);
    const y = 120 + Math.random()*(h-220);
    no.style.position='absolute'; no.style.left = x+'px'; no.style.top = y+'px';
    play(sPop);
  }
  no.onmouseenter = teleport;
  no.ontouchstart = (e)=>{ e.preventDefault(); teleport(); };
  no.onclick = ()=>{ setScore(score+5); alert('‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ! +5 ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üèÜ'); setLevel(4); };
  yes.onclick = ()=>{ play(sWin); burst(16); setScore(score+10); setLevel(4); };
  teleport();
}

function view4(){
  screen.innerHTML = `
    <div class="col">
      <h2>‚ù§Ô∏è ‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å (‡∏ï‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡πÉ‡∏à)</h2>
      <div class="qbox"><label>1Ô∏è‚É£ ‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏á‡∏≠‡∏ô ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á?</label><textarea id="q1"></textarea></div>
      <div class="qbox"><label>2Ô∏è‚É£ ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô? üìù</label><textarea id="q2"></textarea></div>
      <div class="qbox"><label>3Ô∏è‚É£ ‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</label><textarea id="q3"></textarea></div>
      <div class="qbox"><label>4Ô∏è‚É£ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡πÅ‡∏£‡∏Å‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ üìù</label><textarea id="q4"></textarea></div>
      <div class="qbox"><label>5Ô∏è‚É£ ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏≠‡∏µ‡∏Å 5 ‡∏õ‡∏µ‡πÑ‡∏ß‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á</label><textarea id="q5"></textarea></div>
      <div class="row">
        <button class="btn" id="submit">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
        <button class="btn ghost" id="copy" disabled>‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö üíå</button>
      </div>
      <div class="result" id="res" style="display:none"></div>
    </div>`;

  const res = document.getElementById('res');
  const btnSubmit = document.getElementById('submit');
  const btnCopy = document.getElementById('copy');

  btnSubmit.onclick = ()=>{
    const answers = [1,2,3,4,5].map(i=>document.getElementById('q'+i).value.trim());
    const txt = [
      "‚ù§Ô∏è ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô",
      "1) ‡∏ñ‡πâ‡∏≤‡∏â‡∏±‡∏ô‡∏á‡∏≠‡∏ô ‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á? ‚Üí "+(answers[0]||"-"),
      "2) ‡πÄ‡∏î‡∏ï‡πÉ‡∏ô‡∏ù‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏ö‡∏ö‡πÑ‡∏´‡∏ô? ‚Üí "+(answers[1]||"-"),
      "3) ‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‚Üí "+(answers[2]||"-"),
      "4) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡πÅ‡∏£‡∏Å‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‚Üí "+(answers[3]||"-"),
      "5) ‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏≠‡∏µ‡∏Å 5 ‡∏õ‡∏µ‡πÑ‡∏ß‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏á ‚Üí "+(answers[4]||"-")
    ].join("\n");
    res.textContent = txt;
    res.style.display = 'block';
    btnCopy.disabled = false
